<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Productos</title>
</head>
<body>
<h2>Crear producto</h2>

<form th:action="@{/productos/crear}" method="post">
	<label>Nombre:</label>
	<input type="text" name="nombre" required>

	<label>Precio:</label>
	<input type="number" step="0.01" name="precio" required>

	<label>Cantidad:</label>
	<input type="number" name="cantidad" required>

	<button type="submit">Crear</button>
</form>

<hr>


<h1>Lista de productos</h1>

<table border="1">
	<tr>
		<th>CÃ“DIGO</th>
		<th>NOMBRE</th>
		<th>PRECIO</th>
		<th>CANTIDAD</th>
		<th>ACCIONES</th>
	</tr>

	<tr th:each="producto : ${productos}">
		<td th:text="${producto.codigoProducto}"></td>
		<td th:text="${producto.nombreProducto}"></td>
		<td th:text="${producto.precioProducto}"></td>
		<td th:text="${producto.cantidadProducto}"></td>

		<td>

			<!-- ACTUALIZAR PRECIO -->
			<form th:action="@{/productos/actualizar-precio}" method="post">
				<input type="hidden" name="id" th:value="${producto.codigoProducto}">
				<input type="number" step="0.01" name="precio" required>
				<button type="submit">Precio</button>
			</form>

			<!-- ACTUALIZAR NOMBRE -->
			<form th:action="@{/productos/actualizar-nombre}" method="post">
				<input type="hidden" name="id" th:value="${producto.codigoProducto}">
				<input type="text" name="nombre" required>
				<button type="submit">Nombre</button>
			</form>

			<!-- ACTUALIZAR CANTIDAD -->
			<form th:action="@{/productos/actualizar-cantidad}" method="post">
				<input type="hidden" name="id" th:value="${producto.codigoProducto}">
				<input type="number" name="cantidad" required>
				<button type="submit">Cantidad</button>
			</form>

			<!-- ELIMINAR -->
			<form th:action="@{/productos/eliminar-producto}" method="post">
				<input type="hidden" name="id" th:value="${producto.codigoProducto}">
				<button type="submit">Eliminar</button>
			</form>

		</td>
	</tr>
</table>

</body>
</html>
